---
# - name: Execute the openshift-ansible prerequisites
#   import_playbook: /usr/share/ansible/openshift-ansible/playbooks/prerequisites.yml

# - name:  Execute the openshift-ansible Deployer
#   import_playbook: /usr/share/ansible/openshift-ansible/playbooks/deploy_cluster.yml

# - name: Verify OpenShift Cluster
#   hosts: masters[0]
#   tasks:
#     - name: fetch files from master node
#       fetch:
#        src: /root/.kube/config 
#        dest: /root/.kube/config
#        flat: yes

# - name: Post installation configuration
#   hosts: localhost
#   tasks:
#     - name: make sure you are system:dmin
#       shell: oc whoami | grep system:admin
#     - name: Set Network Policy
#       script: migrate-network-policy.sh

# - name: Post installation configuration
#   hosts: nfs
#   become: yes
#   tasks:
#    - name: create pvs
#      script: pv-create.sh
#    - name: issue NFS restart
#      systemd:
#       state: restarted
#       name: nfs-server

# - name: Create PV Template for OCP
#   hosts: localhost
#   become: yes
#   tasks:
#    - name: create 1 to 25 RWO
#      script: pv-create-yaml.sh {{ pv_template.nfs_node }} {{ ocp_template_dir }} {{ pv_template.rwo.from }} {{ pv_template.rwo.to }} {{ pv_template.rwo.size }} {{ pv_template.rwo.mode }}
#    - name: create 26 to 50 RWX
#      script: pv-create-yaml.sh {{ pv_template.nfs_node }} {{ ocp_template_dir }} {{ pv_template.rwx.from }} {{ pv_template.rwx.to }} {{ pv_template.rwx.size }} {{ pv_template.rwx.mode }} 

# - name: Executing PV Creation
#   hosts: localhost
#   become: yes
#   roles:
#    - role: openshift-applier
#      vars:
#       openshift_cluster_content: '{{ applier.volumes }}'
 
# - name: Fix Recycler
#   hosts: nodes
#   become: yes
#   tasks:
#     - shell: docker pull registry.access.redhat.com/openshift3/ose-recycler:latest
#     - shell: docker tag registry.access.redhat.com/openshift3/ose-recycler:latest registry.access.redhat.com/openshift3/ose-recycler:v3.9.30





  
   